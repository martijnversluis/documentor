<div class="space-y-6">
  <div class="flex items-center justify-between">
    <h1 class="text-2xl font-bold text-gray-900"><%= @party.name %></h1>
    <div class="flex items-center space-x-2">
      <%= link_to edit_party_path(@party), class: "inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50" do %>
        Bewerken
      <% end %>
    </div>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <div class="lg:col-span-1">
      <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
        <% if @party.notes.present? %>
          <div>
            <dt class="text-sm text-gray-500 mb-1">Notities</dt>
            <dd class="text-sm"><%= simple_format(@party.notes) %></dd>
          </div>
        <% else %>
          <p class="text-sm text-gray-500">Geen notities</p>
        <% end %>

        <% if @party.tags.any? %>
          <div class="mt-4 pt-4 border-t border-gray-200">
            <dt class="text-sm text-gray-500 mb-2">Tags</dt>
            <dd class="flex flex-wrap gap-2">
              <% @party.tags.each do |tag| %>
                <%= link_to tag, class: "inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-white", style: "background-color: #{tag.color}" do %>
                  <%= tag.name %>
                <% end %>
              <% end %>
            </dd>
          </div>
        <% end %>
      </div>
    </div>

    <div class="lg:col-span-2 space-y-6">
      <% if @items[:dossiers].any? %>
        <div class="bg-white rounded-lg shadow-sm border border-gray-200">
          <div class="p-4 border-b border-gray-200">
            <h2 class="font-semibold text-gray-900">Gelinkte dossiers</h2>
          </div>
          <ul class="divide-y divide-gray-100">
            <% @items[:dossiers].each do |dossier| %>
              <li class="px-4 py-3 hover:bg-gray-50">
                <%= link_to dossier.name, dossier, class: "font-medium text-gray-900 hover:text-blue-600" %>
              </li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <% if @items[:folders].any? %>
        <div class="bg-white rounded-lg shadow-sm border border-gray-200">
          <div class="p-4 border-b border-gray-200">
            <h2 class="font-semibold text-gray-900">Gelinkte mappen</h2>
          </div>
          <ul class="divide-y divide-gray-100">
            <% @items[:folders].each do |folder| %>
              <li class="px-4 py-3 hover:bg-gray-50">
                <%= link_to folder.dossier, class: "font-medium text-gray-900 hover:text-yellow-600" do %>
                  <span class="text-yellow-500 mr-1">üìÅ</span> <%= folder.name %>
                  <span class="text-sm text-gray-500">in <%= folder.dossier.name %></span>
                <% end %>
              </li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <% if @items[:direct_documents].any? || @items[:folder_documents].any? %>
        <div class="bg-white rounded-lg shadow-sm border border-gray-200">
          <div class="p-4 border-b border-gray-200">
            <h2 class="font-semibold text-gray-900">Documenten</h2>
          </div>
          <ul class="divide-y divide-gray-100">
            <% @items[:direct_documents].each do |document| %>
              <li class="px-4 py-3 hover:bg-gray-50 flex items-center justify-between">
                <%= link_to document.name, document, class: "font-medium text-gray-900 hover:text-blue-600" %>
                <span class="text-xs text-gray-400">direct gekoppeld</span>
              </li>
            <% end %>
            <% @items[:folder_documents].each do |document| %>
              <li class="px-4 py-3 hover:bg-gray-50 flex items-center justify-between">
                <%= link_to document.name, document, class: "font-medium text-gray-900 hover:text-blue-600" %>
                <span class="text-xs text-gray-400">via <%= document.folder.name %></span>
              </li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <% if @items[:notes].any? %>
        <div class="bg-white rounded-lg shadow-sm border border-gray-200">
          <div class="p-4 border-b border-gray-200">
            <h2 class="font-semibold text-gray-900">Gelinkte notities</h2>
          </div>
          <ul class="divide-y divide-gray-100">
            <% @items[:notes].each do |note| %>
              <li class="px-4 py-3 hover:bg-gray-50">
                <%= link_to note.title, note, class: "font-medium text-gray-900 hover:text-green-600" %>
              </li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <% if @items[:dossiers].empty? && @items[:folders].empty? && @items[:direct_documents].empty? && @items[:folder_documents].empty? && @items[:notes].empty? %>
        <div class="text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200">
          <p class="text-gray-500">Nog geen gelinkte content.</p>
        </div>
      <% end %>
    </div>
  </div>
</div>
